import 'babel-polyfill';

import { tweenPaths } from '../../src';
import { getPoints, toPath } from 'svg-shapes';

const paths = [
  'M50,209L100,245L150,146L200,106L250,281L300,349L350,66L400,143L450,207L500,64L550,143',
  'M50,245L100,146L150,106L200,281L250,349L300,66L350,143L400,207L450,64L500,143L550,275',
  'M50,146L100,106L150,281L200,349L250,66L300,143L350,207L400,64L450,143L500,275L550,162',
  'M50,106L100,281L150,349L200,66L250,143L300,207L350,64L400,143L450,275L500,162L550,265',
  'M50,281L100,349L150,66L200,143L250,207L300,64L350,143L400,275L450,162L500,265L550,149',
  'M50,349L100,66L150,143L200,207L250,64L300,143L350,275L400,162L450,265L500,149L550,319',
  'M50,66L100,143L150,207L200,64L250,143L300,275L350,162L400,265L450,149L500,319L550,145',
  'M50,143L100,207L150,64L200,143L250,275L300,162L350,265L400,149L450,319L500,145L550,250',
  'M50,207L100,64L150,143L200,275L250,162L300,265L350,149L400,319L450,145L500,250L550,261',
  'M50,64L100,143L150,275L200,162L250,265L300,149L350,319L400,145L450,250L500,261L550,247',
  'M50,143L100,275L150,162L200,265L250,149L300,319L350,145L400,250L450,261L500,247L550,95',
];

const path = document.getElementById( 'path' );

path.setAttribute( 'd', toPath( getPoints( 'path', { d: paths[ 0 ]})));

const move = c => {
  const isLast = !Boolean( paths[ c + 1 ]);
  const n = isLast ? 0 : c + 1;

  tweenPaths({
    duration: 700,
    easing: 'easeInOutQuart',
    from: paths[ c ],
    to: paths[ n ],
    next: d => path.setAttribute( 'd', d ),
    complete: () => move( isLast ? 0 : c + 1 ),
  });
};

move( 0 );
